document.addEventListener("DOMContentLoaded",function(){var e,t,r=null,a=document.querySelector(".grid-wrapper"),n=a.querySelector(".search-field"),d=a.querySelector(".filter-field"),o=(a.querySelector(".sort-field"),a.querySelector(".grid"),"data-title"),u="data-category";function i(){t=d.value,r.filter(function(r){var a=r.getElement(),n=!e||(a.getAttribute(o)||"").toLowerCase().indexOf(e)>-1,d=!t||(a.getAttribute(u)||"")===t;return n&&d})}r=new Muuri(".grid",{dragEnabled:!0,layout:{dimensionFormatter:function(e,t,r){return Math.round(e)}},dragStartPredicate:{handle:".title-drag"}}),e=n.value.toLowerCase(),t=d.value,n.addEventListener("keyup",function(){var t=n.value.toLowerCase();e!==t&&(e=t,i())}),d.addEventListener("change",i)});